<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<link th:href="@{/stylesheet.css?version=60}" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript" th:src="@{/script.js?Num=20}"></script>
<head>
    <meta charset="UTF-8">
    <title>Wishlist</title>
</head>

<header>
    <a th:href="@{/mainPage(type='all')}">
        <button class="button1">Main List</button>
    </a>
</header>
<body>
<div id="mediaTableDiv">
    <!-- mediaTable content gets generated by javascript -->
    <table id="mediaTable">
    </table>
</div> <!-- #mediaTableDiv -->
<div id="sideDiv">
    <!-- only shows media which has the same type as the one selected -->
    <select name="type" id="typeSelect" class="select1" onchange="typeSelectFunc()">
        <option value="all">all</option>
        <option value="movie">movie</option>
        <option value="game">game</option>
        <option value="music">music</option>
        <option value="tvShow">tvshow</option>
        <option value="baking">baking</option>
        <option value="cooking">cooking</option>
        <option value="manga">manga</option>
        <option value="book">book</option>
    </select>

    <button id="removeFromWishlistBtn" class="button1">Remove selected media from wishlist</button>

    <button id="changeViewBtn" class="button1"> change view</button>
</div> <!-- #sideDiv -->

<script th:inline="javascript">
      var mediaListJs = /*[[${mediaList}]]*/;
      var selectedRowText = " ";

      document.onload = init(mediaListJs); //initializes the javascript code
      document.onload = generateCorrectMediaList(); //generates the list of media, goes in 'mediaTable'

      //when the button is pushed it sends the user to a url which will be mapped to a method in the backend java
      document.getElementById("removeFromWishlistBtn").addEventListener("click", function() {
        selectedRowText = getSelectedRowText();
            window.location.replace("/wishlist/removeMedia?mediaName=" +selectedRowText);
      });
</script>
</body>
</html>

